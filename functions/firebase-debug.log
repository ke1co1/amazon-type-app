[debug] [2021-04-22T14:33:15.721Z] ----------------------------------------------------------------------
[debug] [2021-04-22T14:33:15.723Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-04-22T14:33:15.723Z] CLI Version:   9.10.0
[debug] [2021-04-22T14:33:15.723Z] Platform:      darwin
[debug] [2021-04-22T14:33:15.723Z] Node Version:  v14.15.1
[debug] [2021-04-22T14:33:15.724Z] Time:          Thu Apr 22 2021 10:33:15 GMT-0400 (Eastern Daylight Time)
[debug] [2021-04-22T14:33:15.724Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-04-22T14:33:15.731Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-22T14:33:15.731Z] > authorizing via signed-in user (kelvincollado939@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-04-22T14:33:15.753Z] [hub] writing locator at /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/hub-clone-2ff04.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "14" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"14\""}}
[debug] [2021-04-22T14:33:15.785Z] defaultcredentials: writing to file /Users/kelvincollado/.config/firebase/kelvincollado939_gmail_com_application_default_credentials.json
[debug] [2021-04-22T14:33:15.788Z] Setting GAC to /Users/kelvincollado/.config/firebase/kelvincollado939_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/kelvincollado/.config/firebase/kelvincollado939_gmail_com_application_default_credentials.json"}}
[debug] [2021-04-22T14:33:15.789Z] > refreshing access token with scopes: []
[debug] [2021-04-22T14:33:15.790Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-04-22T14:33:15.922Z] <<< HTTP RESPONSE 200 {"date":"Thu, 22 Apr 2021 14:33:19 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-22T14:33:15.951Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/adminSdkConfig [none]
[debug] [2021-04-22T14:33:16.202Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/adminSdkConfig 200
[debug] [2021-04-22T14:33:16.203Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/adminSdkConfig {"projectId":"clone-2ff04","storageBucket":"clone-2ff04.appspot.com"}
[debug] [2021-04-22T14:33:16.223Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/webApps/-/config [none]
[debug] [2021-04-22T14:33:16.714Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/webApps/-/config 200
[debug] [2021-04-22T14:33:16.714Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-2ff04/webApps/-/config {"projectId":"clone-2ff04","appId":"1:207897011015:web:979dcd8ea2af37fb1be262","storageBucket":"clone-2ff04.appspot.com","apiKey":"AIzaSyCjQLPx_fzMfZBf29tCtsn5RL590SlChgM","authDomain":"clone-2ff04.firebaseapp.com","messagingSenderId":"207897011015","measurementId":"G-1LGHY7TQ0D"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.4.2.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.4.2.zip..."}}
[debug] [2021-04-22T14:33:17.007Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.2.zip 
[debug] [2021-04-22T14:33:17.120Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.2.zip 200
[debug] [2021-04-22T14:33:17.120Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.2.zip [stream]
[debug] [2021-04-22T14:33:18.603Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-04-22T14:33:18.603Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-04-22T14:33:18.604Z] Starting Emulator UI with command {"binary":"node","args":["/Users/kelvincollado/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/kelvincollado/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-04-22T14:33:18.705Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/kelvincollado/Desktop/Apps/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-04-22T14:33:18.874Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T14:33:18.875Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-04-22T14:33:18.875Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T14:33:18.875Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6793.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6793.sock"}}
[debug] [2021-04-22T14:33:18.875Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: BUSY"}}
[debug] [2021-04-22T14:33:19.026Z] [runtime-status] [6793] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T14:33:19.026Z] [runtime-status] [6793] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Disabled runtime features: undefined"}}
[debug] [2021-04-22T14:33:19.029Z] [runtime-status] [6793] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.030Z] [runtime-status] [6793] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.033Z] [runtime-status] [6793] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.034Z] [runtime-status] [6793] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T14:33:19.035Z] [runtime-status] [6793] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.065Z] [runtime-status] [6793] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T14:33:19.066Z] [runtime-status] [6793] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T14:33:19.066Z] [runtime-status] [6793] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.066Z] [runtime-status] [6793] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.067Z] [runtime-status] [6793] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:33:19.067Z] [runtime-status] [6793] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6793] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T14:33:19.171Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: IDLE"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET / HTTP/1.1" 200 3032 "http://localhost:4000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET / HTTP/1.1\" 200 3032 \"http://localhost:4000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /static/js/main.63d4d40f.chunk.js HTTP/1.1" 200 10402 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /static/js/main.63d4d40f.chunk.js HTTP/1.1\" 200 10402 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /static/css/main.6c9cf824.chunk.css HTTP/1.1" 200 4876 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /static/css/main.6c9cf824.chunk.css HTTP/1.1\" 200 4876 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /static/js/2.bd86d1b2.chunk.js HTTP/1.1" 200 1102229 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /static/js/2.bd86d1b2.chunk.js HTTP/1.1\" 200 1102229 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /favicon.ico HTTP/1.1" 200 3870 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /favicon.ico HTTP/1.1\" 200 3870 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /manifest.json HTTP/1.1" 200 492 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /manifest.json HTTP/1.1\" 200 492 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] "GET /logo192.png HTTP/1.1" 200 5347 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [22/Apr/2021:14:36:22 +0000] \"GET /logo192.png HTTP/1.1\" 200 5347 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36\""}}
[debug] [2021-04-22T14:38:55.100Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T14:38:56.101Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T14:38:56.102Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: FINISHING"}}
[debug] [2021-04-22T14:38:56.108Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T14:38:56.109Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T14:38:56.109Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T14:38:56.109Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6823.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6823.sock"}}
[debug] [2021-04-22T14:38:56.109Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: BUSY"}}
[debug] [2021-04-22T14:38:56.110Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: exited"}}
[debug] [2021-04-22T14:38:56.110Z] [worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ff480f8-8a51-4430-ab99-6fc598212f8b]: FINISHED"}}
[debug] [2021-04-22T14:38:56.261Z] [runtime-status] [6823] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T14:38:56.262Z] [runtime-status] [6823] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Disabled runtime features: undefined"}}
[debug] [2021-04-22T14:38:56.264Z] [runtime-status] [6823] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.265Z] [runtime-status] [6823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.267Z] [runtime-status] [6823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.269Z] [runtime-status] [6823] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T14:38:56.269Z] [runtime-status] [6823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.298Z] [runtime-status] [6823] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T14:38:56.298Z] [runtime-status] [6823] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T14:38:56.298Z] [runtime-status] [6823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.299Z] [runtime-status] [6823] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.299Z] [runtime-status] [6823] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:38:56.300Z] [runtime-status] [6823] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6823] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-2ff04/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-2ff04/us-central1/api)."}}
[debug] [2021-04-22T14:38:56.384Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: IDLE"}}
[debug] [2021-04-22T14:39:50.310Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T14:39:50.311Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T14:39:50.311Z] Accepted request GET /clone-2ff04/us-central1/api --> api
[debug] [2021-04-22T14:39:50.312Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T14:39:50.320Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T14:39:50.320Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-22T14:39:50.320Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T14:39:50.321Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6826.sock"}}
[debug] [2021-04-22T14:39:50.321Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: BUSY"}}
[debug] [2021-04-22T14:39:50.513Z] [runtime-status] [6826] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T14:39:50.514Z] [runtime-status] [6826] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Disabled runtime features: undefined"}}
[debug] [2021-04-22T14:39:50.516Z] [runtime-status] [6826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.517Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.519Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.520Z] [runtime-status] [6826] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T14:39:50.520Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.551Z] [runtime-status] [6826] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T14:39:50.551Z] [runtime-status] [6826] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T14:39:50.551Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.552Z] [runtime-status] [6826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.552Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:39:50.552Z] [runtime-status] [6826] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T14:39:50.635Z] [runtime-status] [6826] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T14:39:50.636Z] [runtime-status] [6826] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T14:39:50.636Z] [runtime-status] [6826] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Running api in mode HTTPS"}}
[debug] [2021-04-22T14:39:50.641Z] [runtime-status] [6826] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6826.sock"}}
[debug] [2021-04-22T14:39:50.644Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T14:39:50.644Z] [functions] Got req.url=/clone-2ff04/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api, mapping to path=/"}}
[debug] [2021-04-22T14:39:50.650Z] [runtime-status] [6826] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Ephemeral server handling GET request"}}
[debug] [2021-04-22T14:39:50.657Z] [runtime-status] [6826] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6826] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T14:39:50.663Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: IDLE"}}
[debug] [2021-04-22T14:39:50.663Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T14:39:51.124Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-04-22T14:40:06.803Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T14:40:07.809Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T14:40:07.809Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: FINISHING"}}
[debug] [2021-04-22T14:40:07.809Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-04-22T14:40:07.810Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: FINISHING"}}
[debug] [2021-04-22T14:40:07.815Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T14:40:07.816Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T14:40:07.816Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T14:40:07.816Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6830.sock"}}
[debug] [2021-04-22T14:40:07.816Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: BUSY"}}
[debug] [2021-04-22T14:40:07.817Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: exited"}}
[debug] [2021-04-22T14:40:07.817Z] [worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9f46bc47-6ac4-4c92-ad41-17a53fa976fb]: FINISHED"}}
[debug] [2021-04-22T14:40:07.817Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: exited"}}
[debug] [2021-04-22T14:40:07.817Z] [worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ccd42a76-0409-4f30-bac1-d5975ba0e987]: FINISHED"}}
[debug] [2021-04-22T14:40:07.968Z] [runtime-status] [6830] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T14:40:07.969Z] [runtime-status] [6830] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Disabled runtime features: undefined"}}
[debug] [2021-04-22T14:40:07.972Z] [runtime-status] [6830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:07.972Z] [runtime-status] [6830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:07.974Z] [runtime-status] [6830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:07.975Z] [runtime-status] [6830] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T14:40:07.975Z] [runtime-status] [6830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:08.006Z] [runtime-status] [6830] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T14:40:08.006Z] [runtime-status] [6830] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T14:40:08.006Z] [runtime-status] [6830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:08.007Z] [runtime-status] [6830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:08.007Z] [runtime-status] [6830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T14:40:08.007Z] [runtime-status] [6830] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6830] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T14:40:08.094Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: IDLE"}}
[debug] [2021-04-22T15:18:05.225Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:18:06.226Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:18:06.227Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: FINISHING"}}
[debug] [2021-04-22T15:18:06.227Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:18:06.227Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-22T15:18:06.232Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:18:06.232Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:18:06.233Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:18:06.233Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6895.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6895.sock"}}
[debug] [2021-04-22T15:18:06.233Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: BUSY"}}
[debug] [2021-04-22T15:18:06.234Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: exited"}}
[debug] [2021-04-22T15:18:06.234Z] [worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-34b76b86-2d68-4361-9a59-813ddcc44060]: FINISHED"}}
[debug] [2021-04-22T15:18:06.377Z] [runtime-status] [6895] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:18:06.378Z] [runtime-status] [6895] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:18:06.380Z] [runtime-status] [6895] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.381Z] [runtime-status] [6895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.382Z] [runtime-status] [6895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.384Z] [runtime-status] [6895] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:18:06.384Z] [runtime-status] [6895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.411Z] [runtime-status] [6895] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:18:06.412Z] [runtime-status] [6895] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:18:06.412Z] [runtime-status] [6895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.413Z] [runtime-status] [6895] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.413Z] [runtime-status] [6895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:18:06.413Z] [runtime-status] [6895] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6895] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:18:06.490Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: IDLE"}}
[debug] [2021-04-22T15:19:58.491Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:19:59.497Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:19:59.497Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: FINISHING"}}
[debug] [2021-04-22T15:19:59.497Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:19:59.503Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:19:59.503Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:19:59.503Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:19:59.503Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6901.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6901.sock"}}
[debug] [2021-04-22T15:19:59.503Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: BUSY"}}
[debug] [2021-04-22T15:19:59.504Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: exited"}}
[debug] [2021-04-22T15:19:59.504Z] [worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-593a97b1-b895-436f-83bc-d2e62dbd17f2]: FINISHED"}}
[debug] [2021-04-22T15:19:59.640Z] [runtime-status] [6901] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:19:59.641Z] [runtime-status] [6901] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:19:59.643Z] [runtime-status] [6901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.644Z] [runtime-status] [6901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.645Z] [runtime-status] [6901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.647Z] [runtime-status] [6901] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:19:59.647Z] [runtime-status] [6901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.675Z] [runtime-status] [6901] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:19:59.675Z] [runtime-status] [6901] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:19:59.675Z] [runtime-status] [6901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.676Z] [runtime-status] [6901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.676Z] [runtime-status] [6901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:19:59.676Z] [runtime-status] [6901] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6901] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:19:59.754Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: IDLE"}}
[debug] [2021-04-22T15:20:46.065Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:20:47.068Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:20:47.068Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: FINISHING"}}
[debug] [2021-04-22T15:20:47.068Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:20:47.072Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:20:47.073Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:20:47.073Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:20:47.073Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6904.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6904.sock"}}
[debug] [2021-04-22T15:20:47.073Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: BUSY"}}
[debug] [2021-04-22T15:20:47.074Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: exited"}}
[debug] [2021-04-22T15:20:47.074Z] [worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-90a0afd4-aac4-4397-80ea-9b63d9e1500b]: FINISHED"}}
[debug] [2021-04-22T15:20:47.228Z] [runtime-status] [6904] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:20:47.229Z] [runtime-status] [6904] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:20:47.231Z] [runtime-status] [6904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.233Z] [runtime-status] [6904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.235Z] [runtime-status] [6904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.237Z] [runtime-status] [6904] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:20:47.237Z] [runtime-status] [6904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.268Z] [runtime-status] [6904] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:20:47.268Z] [runtime-status] [6904] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:20:47.269Z] [runtime-status] [6904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.270Z] [runtime-status] [6904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.270Z] [runtime-status] [6904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:20:47.270Z] [runtime-status] [6904] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6904] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:20:47.358Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: IDLE"}}
[debug] [2021-04-22T15:23:13.490Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:23:14.496Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:23:14.496Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: FINISHING"}}
[debug] [2021-04-22T15:23:14.496Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:23:14.500Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:23:14.500Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:23:14.500Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:23:14.500Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6910.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6910.sock"}}
[debug] [2021-04-22T15:23:14.501Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: BUSY"}}
[debug] [2021-04-22T15:23:14.501Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: exited"}}
[debug] [2021-04-22T15:23:14.501Z] [worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-094e1e1b-f3d8-4f65-bcbd-d1b8f73c85a1]: FINISHED"}}
[debug] [2021-04-22T15:23:14.644Z] [runtime-status] [6910] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:23:14.645Z] [runtime-status] [6910] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:23:14.647Z] [runtime-status] [6910] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.648Z] [runtime-status] [6910] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.649Z] [runtime-status] [6910] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.651Z] [runtime-status] [6910] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:23:14.651Z] [runtime-status] [6910] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.683Z] [runtime-status] [6910] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:23:14.683Z] [runtime-status] [6910] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:23:14.683Z] [runtime-status] [6910] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.684Z] [runtime-status] [6910] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.685Z] [runtime-status] [6910] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:23:14.685Z] [runtime-status] [6910] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6910] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:23:14.773Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: IDLE"}}
[debug] [2021-04-22T15:37:19.397Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:37:19.397Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:37:19.397Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-22T15:37:19.397Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:37:19.401Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:37:19.401Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-22T15:37:19.401Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:37:19.401Z] [worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6986.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6986.sock"}}
[debug] [2021-04-22T15:37:19.402Z] [worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: BUSY"}}
[debug] [2021-04-22T15:37:19.608Z] [runtime-status] [6986] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:37:19.609Z] [runtime-status] [6986] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:37:19.612Z] [runtime-status] [6986] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.613Z] [runtime-status] [6986] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.614Z] [runtime-status] [6986] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.616Z] [runtime-status] [6986] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:37:19.616Z] [runtime-status] [6986] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.656Z] [runtime-status] [6986] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:37:19.657Z] [runtime-status] [6986] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:37:19.657Z] [runtime-status] [6986] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.660Z] [runtime-status] [6986] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.660Z] [runtime-status] [6986] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:19.660Z] [runtime-status] [6986] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:37:19.785Z] [runtime-status] [6986] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:37:19.790Z] [runtime-status] [6986] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:37:19.790Z] [runtime-status] [6986] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:37:19.790Z] [runtime-status] [6986] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6986.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6986.sock"}}
[debug] [2021-04-22T15:37:19.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:37:19.795Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-22T15:37:19.805Z] [runtime-status] [6986] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 0 {"user":"payments request recieved BOOM! fo this ammount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 0"}}
[debug] [2021-04-22T15:37:19.810Z] [runtime-status] [6986] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6986] Ephemeral server survived."}}
[info] >  (node:6986) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6986) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6986) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6986) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6986) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6986) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6986) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6986) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6986) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:37:33.348Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-22T15:37:33.349Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-22T15:37:33.349Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:37:33.362Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:37:33.363Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-22T15:37:33.363Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:37:33.363Z] [worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6989.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6989.sock"}}
[debug] [2021-04-22T15:37:33.363Z] [worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: BUSY"}}
[debug] [2021-04-22T15:37:33.559Z] [runtime-status] [6989] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:37:33.560Z] [runtime-status] [6989] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:37:33.565Z] [runtime-status] [6989] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.566Z] [runtime-status] [6989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.569Z] [runtime-status] [6989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.571Z] [runtime-status] [6989] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:37:33.572Z] [runtime-status] [6989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.607Z] [runtime-status] [6989] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:37:33.607Z] [runtime-status] [6989] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:37:33.607Z] [runtime-status] [6989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.608Z] [runtime-status] [6989] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.609Z] [runtime-status] [6989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:37:33.609Z] [runtime-status] [6989] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:37:33.694Z] [runtime-status] [6989] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:37:33.695Z] [runtime-status] [6989] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:37:33.695Z] [runtime-status] [6989] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:37:33.698Z] [runtime-status] [6989] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6989.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6989.sock"}}
[debug] [2021-04-22T15:37:33.700Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:37:33.700Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:37:33.707Z] [runtime-status] [6989] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 2999 {"user":"payments request recieved BOOM! fo this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 2999"}}
[debug] [2021-04-22T15:37:33.712Z] [runtime-status] [6989] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6989] Ephemeral server survived."}}
[info] >  (node:6989) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6989) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6989) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6989) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6989) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6989) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6989) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6989) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6989) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:38:19.797Z] [worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: exited"}}
[debug] [2021-04-22T15:38:19.797Z] [worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08079bc3-71bf-46c4-82dd-f4d5f03142d7]: FINISHED"}}
[debug] [2021-04-22T15:38:19.797Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:38:33.711Z] [worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: exited"}}
[debug] [2021-04-22T15:38:33.711Z] [worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c165e6de-91a5-4778-99ab-125d9722336d]: FINISHED"}}
[debug] [2021-04-22T15:38:33.711Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:39:05.023Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:39:05.023Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:39:05.023Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:39:05.024Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-22T15:39:05.028Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:05.028Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-22T15:39:05.028Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:05.028Z] [worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6993.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6993.sock"}}
[debug] [2021-04-22T15:39:05.029Z] [worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: BUSY"}}
[debug] [2021-04-22T15:39:05.177Z] [runtime-status] [6993] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:05.180Z] [runtime-status] [6993] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:05.183Z] [runtime-status] [6993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.184Z] [runtime-status] [6993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.187Z] [runtime-status] [6993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.188Z] [runtime-status] [6993] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:05.189Z] [runtime-status] [6993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.263Z] [runtime-status] [6993] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:05.263Z] [runtime-status] [6993] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:05.264Z] [runtime-status] [6993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.267Z] [runtime-status] [6993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.267Z] [runtime-status] [6993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:05.268Z] [runtime-status] [6993] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:05.360Z] [runtime-status] [6993] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:05.361Z] [runtime-status] [6993] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:05.361Z] [runtime-status] [6993] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:05.370Z] [runtime-status] [6993] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6993.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6993.sock"}}
[debug] [2021-04-22T15:39:05.375Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:05.376Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:39:05.382Z] [runtime-status] [6993] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 2999 {"user":"payments request recieved BOOM! fo this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 2999"}}
[debug] [2021-04-22T15:39:05.386Z] [runtime-status] [6993] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6993] Ephemeral server survived."}}
[info] >  (node:6993) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6993) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6993) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:39:09.469Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-22T15:39:09.469Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-22T15:39:09.469Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-22T15:39:09.473Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:09.474Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-22T15:39:09.474Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:09.474Z] [worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6995.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6995.sock"}}
[debug] [2021-04-22T15:39:09.474Z] [worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: BUSY"}}
[debug] [2021-04-22T15:39:09.626Z] [runtime-status] [6995] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:09.627Z] [runtime-status] [6995] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:09.630Z] [runtime-status] [6995] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.631Z] [runtime-status] [6995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.632Z] [runtime-status] [6995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.634Z] [runtime-status] [6995] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:09.634Z] [runtime-status] [6995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.663Z] [runtime-status] [6995] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:09.664Z] [runtime-status] [6995] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:09.664Z] [runtime-status] [6995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.664Z] [runtime-status] [6995] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.665Z] [runtime-status] [6995] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:09.665Z] [runtime-status] [6995] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:09.748Z] [runtime-status] [6995] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:09.749Z] [runtime-status] [6995] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:09.749Z] [runtime-status] [6995] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:09.752Z] [runtime-status] [6995] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6995.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6995.sock"}}
[debug] [2021-04-22T15:39:09.756Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:09.756Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-22T15:39:09.762Z] [runtime-status] [6995] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 0 {"user":"payments request recieved BOOM! fo this ammount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 0"}}
[debug] [2021-04-22T15:39:09.766Z] [runtime-status] [6995] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6995] Ephemeral server survived."}}
[info] >  (node:6995) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6995) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6995) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6995) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6995) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6995) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6995) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6995) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6995) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:39:20.225Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-22T15:39:20.225Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-22T15:39:20.225Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=20993 --> api
[debug] [2021-04-22T15:39:20.231Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:20.231Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-22T15:39:20.231Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:20.231Z] [worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6997.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6997.sock"}}
[debug] [2021-04-22T15:39:20.231Z] [worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: BUSY"}}
[debug] [2021-04-22T15:39:20.399Z] [runtime-status] [6997] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:20.400Z] [runtime-status] [6997] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:20.404Z] [runtime-status] [6997] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.404Z] [runtime-status] [6997] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.409Z] [runtime-status] [6997] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.409Z] [runtime-status] [6997] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:20.410Z] [runtime-status] [6997] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.438Z] [runtime-status] [6997] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:20.439Z] [runtime-status] [6997] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:20.439Z] [runtime-status] [6997] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.439Z] [runtime-status] [6997] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.440Z] [runtime-status] [6997] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:20.440Z] [runtime-status] [6997] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:20.518Z] [runtime-status] [6997] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:20.519Z] [runtime-status] [6997] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:20.519Z] [runtime-status] [6997] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:20.522Z] [runtime-status] [6997] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6997.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6997.sock"}}
[debug] [2021-04-22T15:39:20.524Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:20.524Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=20993, mapping to path=/payments/create?total=20993 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=20993, mapping to path=/payments/create?total=20993"}}
[debug] [2021-04-22T15:39:20.532Z] [runtime-status] [6997] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 20993 {"user":"payments request recieved BOOM! fo this ammount >>> 20993","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 20993"}}
[debug] [2021-04-22T15:39:20.536Z] [runtime-status] [6997] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6997] Ephemeral server survived."}}
[info] >  (node:6997) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6997) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6997) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6997) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6997) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6997) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6997) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6997) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6997) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:39:23.573Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-04-22T15:39:23.573Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-04-22T15:39:23.573Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=17994 --> api
[debug] [2021-04-22T15:39:23.576Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:23.576Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-04-22T15:39:23.576Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:23.577Z] [worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6998.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6998.sock"}}
[debug] [2021-04-22T15:39:23.577Z] [worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: BUSY"}}
[debug] [2021-04-22T15:39:23.720Z] [runtime-status] [6998] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:23.721Z] [runtime-status] [6998] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:23.724Z] [runtime-status] [6998] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.725Z] [runtime-status] [6998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.726Z] [runtime-status] [6998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.727Z] [runtime-status] [6998] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:23.728Z] [runtime-status] [6998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.756Z] [runtime-status] [6998] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:23.756Z] [runtime-status] [6998] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:23.756Z] [runtime-status] [6998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.757Z] [runtime-status] [6998] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.757Z] [runtime-status] [6998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:23.758Z] [runtime-status] [6998] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:23.834Z] [runtime-status] [6998] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:23.835Z] [runtime-status] [6998] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:23.835Z] [runtime-status] [6998] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:23.842Z] [runtime-status] [6998] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6998.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6998.sock"}}
[debug] [2021-04-22T15:39:23.843Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:23.843Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994"}}
[debug] [2021-04-22T15:39:23.856Z] [runtime-status] [6998] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 17994 {"user":"payments request recieved BOOM! fo this ammount >>> 17994","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 17994"}}
[debug] [2021-04-22T15:39:23.859Z] [runtime-status] [6998] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6998] Ephemeral server survived."}}
[info] >  (node:6998) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6998) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6998) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6998) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6998) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6998) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6998) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6998) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6998) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:39:25.680Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-04-22T15:39:25.680Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-04-22T15:39:25.681Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=14994.999999999998 --> api
[debug] [2021-04-22T15:39:25.686Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:25.686Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-04-22T15:39:25.686Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:25.686Z] [worker-api-6533a946-7628-4eef-837a-5c701232c36f]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6999.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6533a946-7628-4eef-837a-5c701232c36f]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6999.sock"}}
[debug] [2021-04-22T15:39:25.686Z] [worker-api-6533a946-7628-4eef-837a-5c701232c36f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6533a946-7628-4eef-837a-5c701232c36f]: BUSY"}}
[debug] [2021-04-22T15:39:25.828Z] [runtime-status] [6999] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:25.829Z] [runtime-status] [6999] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:25.832Z] [runtime-status] [6999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.832Z] [runtime-status] [6999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.834Z] [runtime-status] [6999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.835Z] [runtime-status] [6999] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:25.836Z] [runtime-status] [6999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.864Z] [runtime-status] [6999] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:25.864Z] [runtime-status] [6999] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:25.864Z] [runtime-status] [6999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.865Z] [runtime-status] [6999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.865Z] [runtime-status] [6999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:25.865Z] [runtime-status] [6999] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:25.942Z] [runtime-status] [6999] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:25.943Z] [runtime-status] [6999] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:25.943Z] [runtime-status] [6999] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:25.946Z] [runtime-status] [6999] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6999.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_6999.sock"}}
[debug] [2021-04-22T15:39:25.948Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:25.948Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=14994.999999999998, mapping to path=/payments/create?total=14994.999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=14994.999999999998, mapping to path=/payments/create?total=14994.999999999998"}}
[debug] [2021-04-22T15:39:25.957Z] [runtime-status] [6999] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 14994.999999999998 {"user":"payments request recieved BOOM! fo this ammount >>> 14994.999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 14994.999999999998"}}
[debug] [2021-04-22T15:39:25.960Z] [runtime-status] [6999] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6999] Ephemeral server survived."}}
[info] >  (node:6999) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:6999) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6999) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6999) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6999) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6999) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6999) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6999) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6999) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:39:28.171Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-04-22T15:39:28.171Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-04-22T15:39:28.171Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=11996 --> api
[debug] [2021-04-22T15:39:28.177Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:39:28.178Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-04-22T15:39:28.178Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:39:28.179Z] [worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7000.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7000.sock"}}
[debug] [2021-04-22T15:39:28.179Z] [worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: BUSY"}}
[debug] [2021-04-22T15:39:28.321Z] [runtime-status] [7000] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:39:28.322Z] [runtime-status] [7000] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:39:28.324Z] [runtime-status] [7000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.325Z] [runtime-status] [7000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.326Z] [runtime-status] [7000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.328Z] [runtime-status] [7000] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:39:28.328Z] [runtime-status] [7000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.356Z] [runtime-status] [7000] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:39:28.356Z] [runtime-status] [7000] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:28.357Z] [runtime-status] [7000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.357Z] [runtime-status] [7000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.358Z] [runtime-status] [7000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:39:28.358Z] [runtime-status] [7000] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:39:28.435Z] [runtime-status] [7000] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:39:28.435Z] [runtime-status] [7000] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:39:28.436Z] [runtime-status] [7000] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:39:28.438Z] [runtime-status] [7000] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7000.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7000.sock"}}
[debug] [2021-04-22T15:39:28.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:39:28.441Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-04-22T15:39:28.449Z] [runtime-status] [7000] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 11996 {"user":"payments request recieved BOOM! fo this ammount >>> 11996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 11996"}}
[debug] [2021-04-22T15:39:28.453Z] [runtime-status] [7000] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7000] Ephemeral server survived."}}
[info] >  (node:7000) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:7000) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7000) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:05.375Z] [worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: exited"}}
[debug] [2021-04-22T15:40:05.375Z] [worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b77ed993-9ab7-4795-8bc5-3e06842d83a6]: FINISHED"}}
[debug] [2021-04-22T15:40:05.375Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-04-22T15:40:05.379Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-04-22T15:40:05.379Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-04-22T15:40:05.379Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-04-22T15:40:05.379Z] [worker-pool] Cleaned up workers for api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 5"}}
[debug] [2021-04-22T15:40:05.386Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:40:05.386Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-04-22T15:40:05.387Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:40:05.387Z] [worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7001.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7001.sock"}}
[debug] [2021-04-22T15:40:05.387Z] [worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: BUSY"}}
[debug] [2021-04-22T15:40:05.576Z] [runtime-status] [7001] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:40:05.578Z] [runtime-status] [7001] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:40:05.580Z] [runtime-status] [7001] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.581Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.582Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.583Z] [runtime-status] [7001] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:40:05.584Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.613Z] [runtime-status] [7001] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:40:05.613Z] [runtime-status] [7001] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:40:05.613Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.615Z] [runtime-status] [7001] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.615Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:05.615Z] [runtime-status] [7001] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:40:05.696Z] [runtime-status] [7001] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:40:05.697Z] [runtime-status] [7001] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:40:05.697Z] [runtime-status] [7001] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:40:05.700Z] [runtime-status] [7001] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7001.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7001.sock"}}
[debug] [2021-04-22T15:40:05.705Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:40:05.706Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-04-22T15:40:05.714Z] [runtime-status] [7001] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 8997 {"user":"payments request recieved BOOM! fo this ammount >>> 8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 8997"}}
[debug] [2021-04-22T15:40:05.718Z] [runtime-status] [7001] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7001] Ephemeral server survived."}}
[info] >  (node:7001) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:7001) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7001) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7001) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7001) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7001) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7001) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7001) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7001) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:09.764Z] [worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: exited"}}
[debug] [2021-04-22T15:40:09.764Z] [worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-622e4078-864b-4efd-a7ca-2d805bbe3233]: FINISHED"}}
[debug] [2021-04-22T15:40:09.764Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-04-22T15:40:09.766Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-04-22T15:40:09.766Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-04-22T15:40:09.766Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-22T15:40:09.766Z] [worker-pool] Cleaned up workers for api: 6 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 5"}}
[debug] [2021-04-22T15:40:09.773Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:40:09.773Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-04-22T15:40:09.773Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:40:09.773Z] [worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7002.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7002.sock"}}
[debug] [2021-04-22T15:40:09.773Z] [worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: BUSY"}}
[debug] [2021-04-22T15:40:09.942Z] [runtime-status] [7002] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:40:09.944Z] [runtime-status] [7002] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:40:09.946Z] [runtime-status] [7002] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.947Z] [runtime-status] [7002] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.948Z] [runtime-status] [7002] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.950Z] [runtime-status] [7002] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:40:09.950Z] [runtime-status] [7002] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.986Z] [runtime-status] [7002] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:40:09.986Z] [runtime-status] [7002] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:40:09.987Z] [runtime-status] [7002] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.988Z] [runtime-status] [7002] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.990Z] [runtime-status] [7002] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:40:09.991Z] [runtime-status] [7002] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:40:10.113Z] [runtime-status] [7002] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:40:10.114Z] [runtime-status] [7002] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:40:10.114Z] [runtime-status] [7002] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:40:10.144Z] [runtime-status] [7002] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7002.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7002.sock"}}
[debug] [2021-04-22T15:40:10.147Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:40:10.147Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-22T15:40:10.166Z] [runtime-status] [7002] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 5998 {"user":"payments request recieved BOOM! fo this ammount >>> 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 5998"}}
[debug] [2021-04-22T15:40:10.175Z] [runtime-status] [7002] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7002] Ephemeral server survived."}}
[info] >  (node:7002) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:7002) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7002) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7002) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7002) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7002) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7002) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7002) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7002) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:20.531Z] [worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: exited"}}
[debug] [2021-04-22T15:40:20.531Z] [worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f4b378dd-47c9-4993-a354-5cad2779d987]: FINISHED"}}
[debug] [2021-04-22T15:40:20.532Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:23.848Z] [worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: exited"}}
[debug] [2021-04-22T15:40:23.848Z] [worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8e617e1e-5b62-4477-ba89-de05ba6d9948]: FINISHED"}}
[debug] [2021-04-22T15:40:23.849Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:25.954Z] [worker-api-6533a946-7628-4eef-837a-5c701232c36f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6533a946-7628-4eef-837a-5c701232c36f]: exited"}}
[debug] [2021-04-22T15:40:25.954Z] [worker-api-6533a946-7628-4eef-837a-5c701232c36f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6533a946-7628-4eef-837a-5c701232c36f]: FINISHED"}}
[debug] [2021-04-22T15:40:25.954Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:40:28.448Z] [worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: exited"}}
[debug] [2021-04-22T15:40:28.448Z] [worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-37d51f4a-ba17-4b7c-b71e-b239b48ccdaa]: FINISHED"}}
[debug] [2021-04-22T15:40:28.448Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:41:05.707Z] [worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: exited"}}
[debug] [2021-04-22T15:41:05.708Z] [worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-360bc5c8-16db-4b13-8285-1f1c1ad34d02]: FINISHED"}}
[debug] [2021-04-22T15:41:05.708Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:41:10.124Z] [worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: exited"}}
[debug] [2021-04-22T15:41:10.124Z] [worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8f6b103c-a5ca-4e3f-9b90-7530bf56081c]: FINISHED"}}
[debug] [2021-04-22T15:41:10.124Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:41:19.401Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:41:19.401Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:41:19.401Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-22T15:41:19.401Z] [worker-pool] Cleaned up workers for api: 6 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 0"}}
[debug] [2021-04-22T15:41:19.405Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:41:19.405Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-22T15:41:19.405Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:41:19.405Z] [worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7005.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7005.sock"}}
[debug] [2021-04-22T15:41:19.405Z] [worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: BUSY"}}
[debug] [2021-04-22T15:41:19.598Z] [runtime-status] [7005] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:41:19.599Z] [runtime-status] [7005] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:41:19.603Z] [runtime-status] [7005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.610Z] [runtime-status] [7005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.612Z] [runtime-status] [7005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.614Z] [runtime-status] [7005] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:41:19.614Z] [runtime-status] [7005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.646Z] [runtime-status] [7005] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:41:19.647Z] [runtime-status] [7005] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:41:19.647Z] [runtime-status] [7005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.648Z] [runtime-status] [7005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.648Z] [runtime-status] [7005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:19.648Z] [runtime-status] [7005] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:41:19.741Z] [runtime-status] [7005] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:41:19.742Z] [runtime-status] [7005] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:41:19.742Z] [runtime-status] [7005] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:41:19.744Z] [runtime-status] [7005] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7005.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7005.sock"}}
[debug] [2021-04-22T15:41:19.747Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:41:19.747Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-22T15:41:19.772Z] [runtime-status] [7005] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 0 {"user":"payments request recieved BOOM! fo this ammount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 0"}}
[debug] [2021-04-22T15:41:19.779Z] [runtime-status] [7005] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7005] Ephemeral server survived."}}
[info] >  (node:7005) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:7005) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7005) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:41:27.585Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-22T15:41:27.585Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-22T15:41:27.585Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-04-22T15:41:27.589Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:41:27.590Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-22T15:41:27.590Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:41:27.590Z] [worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7006.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7006.sock"}}
[debug] [2021-04-22T15:41:27.590Z] [worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: BUSY"}}
[debug] [2021-04-22T15:41:27.809Z] [runtime-status] [7006] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:41:27.811Z] [runtime-status] [7006] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:41:27.814Z] [runtime-status] [7006] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.815Z] [runtime-status] [7006] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.816Z] [runtime-status] [7006] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.818Z] [runtime-status] [7006] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:41:27.822Z] [runtime-status] [7006] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.856Z] [runtime-status] [7006] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:41:27.856Z] [runtime-status] [7006] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:41:27.857Z] [runtime-status] [7006] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.857Z] [runtime-status] [7006] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.858Z] [runtime-status] [7006] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:41:27.858Z] [runtime-status] [7006] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:41:27.942Z] [runtime-status] [7006] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:41:27.942Z] [runtime-status] [7006] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:41:27.943Z] [runtime-status] [7006] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:41:27.945Z] [runtime-status] [7006] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7006.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7006.sock"}}
[debug] [2021-04-22T15:41:27.947Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:41:27.947Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-04-22T15:41:27.955Z] [runtime-status] [7006] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! fo this ammount >>> 8997 {"user":"payments request recieved BOOM! fo this ammount >>> 8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! fo this ammount >>> 8997"}}
[debug] [2021-04-22T15:41:27.960Z] [runtime-status] [7006] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7006] Ephemeral server survived."}}
[info] >  (node:7006) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:7006) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7006) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js:21:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7006) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7006) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7006) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7006) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7006) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7006) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:42:19.753Z] [worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: exited"}}
[debug] [2021-04-22T15:42:19.753Z] [worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cc0d1893-2684-4b67-a9ad-ee5087edce57]: FINISHED"}}
[debug] [2021-04-22T15:42:19.753Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:42:27.954Z] [worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: exited"}}
[debug] [2021-04-22T15:42:27.954Z] [worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765d8cf7-37ce-4352-a5fc-72b51f12d6c8]: FINISHED"}}
[debug] [2021-04-22T15:42:27.954Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:43:42.593Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:43:43.595Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:43:43.596Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: FINISHING"}}
[debug] [2021-04-22T15:43:43.596Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-22T15:43:43.602Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:43:43.602Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:43:43.602Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:43:43.602Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7012.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7012.sock"}}
[debug] [2021-04-22T15:43:43.603Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: BUSY"}}
[debug] [2021-04-22T15:43:43.603Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: exited"}}
[debug] [2021-04-22T15:43:43.604Z] [worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f401799-7cb3-4abb-bf6b-68c746dfb711]: FINISHED"}}
[debug] [2021-04-22T15:43:43.760Z] [runtime-status] [7012] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:43:43.761Z] [runtime-status] [7012] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:43:43.763Z] [runtime-status] [7012] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.764Z] [runtime-status] [7012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.765Z] [runtime-status] [7012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.767Z] [runtime-status] [7012] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:43:43.767Z] [runtime-status] [7012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.796Z] [runtime-status] [7012] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:43:43.797Z] [runtime-status] [7012] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:43:43.797Z] [runtime-status] [7012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.798Z] [runtime-status] [7012] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.798Z] [runtime-status] [7012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:43:43.798Z] [runtime-status] [7012] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7012] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:43:43.882Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: IDLE"}}
[debug] [2021-04-22T15:44:19.776Z] File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/kelvincollado/Desktop/Apps/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-04-22T15:44:20.779Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-22T15:44:20.779Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: FINISHING"}}
[debug] [2021-04-22T15:44:20.779Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:44:20.784Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-22T15:44:20.784Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-22T15:44:20.784Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-22T15:44:20.785Z] [worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7014.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7014.sock"}}
[debug] [2021-04-22T15:44:20.785Z] [worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: BUSY"}}
[debug] [2021-04-22T15:44:20.785Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: exited"}}
[debug] [2021-04-22T15:44:20.785Z] [worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-beae8a09-4461-4d28-8e9d-4c3ad6c6200c]: FINISHED"}}
[debug] [2021-04-22T15:44:20.939Z] [runtime-status] [7014] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:44:20.941Z] [runtime-status] [7014] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:44:20.943Z] [runtime-status] [7014] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.944Z] [runtime-status] [7014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.945Z] [runtime-status] [7014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.947Z] [runtime-status] [7014] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:44:20.948Z] [runtime-status] [7014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.979Z] [runtime-status] [7014] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:44:20.979Z] [runtime-status] [7014] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:44:20.979Z] [runtime-status] [7014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.980Z] [runtime-status] [7014] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.980Z] [runtime-status] [7014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:20.980Z] [runtime-status] [7014] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7014] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:44:21.065Z] [worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3b10700a-e972-4d39-9522-d9a3f9c7e9a0]: IDLE"}}
[debug] [2021-04-22T15:44:24.985Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:44:24.985Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:44:24.985Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-22T15:44:24.985Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-22T15:44:24.990Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:44:24.990Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-22T15:44:24.990Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:44:24.990Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:44:24.990Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:44:25.135Z] [runtime-status] [7015] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:44:25.137Z] [runtime-status] [7015] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:44:25.139Z] [runtime-status] [7015] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.140Z] [runtime-status] [7015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.141Z] [runtime-status] [7015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.143Z] [runtime-status] [7015] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:44:25.143Z] [runtime-status] [7015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.171Z] [runtime-status] [7015] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:44:25.172Z] [runtime-status] [7015] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:44:25.172Z] [runtime-status] [7015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.173Z] [runtime-status] [7015] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.173Z] [runtime-status] [7015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:44:25.174Z] [runtime-status] [7015] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:44:25.252Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:44:25.252Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:44:25.252Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:44:25.255Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:44:25.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:44:25.260Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-22T15:44:25.266Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! for this ammount >>> 5998 {"user":"payments request recieved BOOM! for this ammount >>> 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 5998"}}
[debug] [2021-04-22T15:44:25.278Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:44:25.804Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE"}}
[debug] [2021-04-22T15:44:25.804Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:44:28.486Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:44:28.486Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:44:28.486Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:44:28.486Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:44:28.486Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:44:28.486Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:44:28.487Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:44:28.487Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:44:28.487Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:44:28.487Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:44:28.488Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:44:28.488Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:44:28.492Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! for this ammount >>> 2999 {"user":"payments request recieved BOOM! for this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 2999"}}
[debug] [2021-04-22T15:44:28.494Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:44:28.779Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE"}}
[debug] [2021-04-22T15:44:28.779Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:47:44.380Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:47:44.380Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:47:44.380Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=119997 --> api
[debug] [2021-04-22T15:47:44.380Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:47:44.380Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:47:44.380Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:47:44.381Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:47:44.381Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:47:44.381Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:47:44.382Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:47:44.383Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:47:44.383Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=119997, mapping to path=/payments/create?total=119997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=119997, mapping to path=/payments/create?total=119997"}}
[debug] [2021-04-22T15:47:44.385Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! for this ammount >>> 119997 {"user":"payments request recieved BOOM! for this ammount >>> 119997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 119997"}}
[debug] [2021-04-22T15:47:44.388Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:47:44.752Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE"}}
[debug] [2021-04-22T15:47:44.752Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:56:58.380Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:56:58.381Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:56:58.381Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:56:58.381Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:56:58.381Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:56:58.381Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:56:58.381Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:56:58.382Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:56:58.382Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:56:58.382Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:56:58.384Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:56:58.384Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:56:58.390Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[debug] [2021-04-22T15:56:58.390Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] >  payments request recieved BOOM! for this ammount >>> 2999 {"user":"payments request recieved BOOM! for this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 2999"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:56:58.804Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE"}}
[debug] [2021-04-22T15:56:58.804Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:58:40.778Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:58:40.778Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:58:40.779Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:58:40.779Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:58:40.779Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:58:40.779Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:58:40.780Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:58:40.780Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:58:40.780Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:58:40.780Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:58:40.781Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:58:40.782Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:58:40.786Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! for this ammount >>> 2999 {"user":"payments request recieved BOOM! for this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 2999"}}
[debug] [2021-04-22T15:58:40.787Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:58:41.121Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: IDLE"}}
[debug] [2021-04-22T15:58:41.121Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-22T15:58:47.993Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-22T15:58:47.993Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-22T15:58:47.993Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-22T15:58:47.993Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:58:47.993Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:58:47.993Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: BUSY"}}
[debug] [2021-04-22T15:58:47.994Z] [runtime-status] [7015] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:58:47.995Z] [runtime-status] [7015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:58:47.995Z] [runtime-status] [7015] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:58:47.995Z] [runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7015.sock"}}
[debug] [2021-04-22T15:58:47.995Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:58:47.995Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-22T15:58:48.000Z] [runtime-status] [7015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server handling POST request"}}
[debug] [2021-04-22T15:58:48.001Z] [runtime-status] [7015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7015] Ephemeral server survived."}}
[info] >  payments request recieved BOOM! for this ammount >>> 0 {"user":"payments request recieved BOOM! for this ammount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 0"}}
[info] >  (node:7015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1327:12) {"user":"    at endReadableNT (_stream_readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-22T15:58:56.616Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-22T15:58:56.616Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-22T15:58:56.616Z] Accepted request POST /clone-2ff04/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-22T15:58:56.621Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-22T15:58:56.621Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-22T15:58:56.621Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-22T15:58:56.622Z] [worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7094.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: Assigning socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7094.sock"}}
[debug] [2021-04-22T15:58:56.622Z] [worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: BUSY"}}
[debug] [2021-04-22T15:58:56.905Z] [runtime-status] [7094] Functions runtime initialized. {"cwd":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions","node_version":"14.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Functions runtime initialized. {\"cwd\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions\",\"node_version\":\"14.15.1\"}"}}
[debug] [2021-04-22T15:58:56.906Z] [runtime-status] [7094] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Disabled runtime features: undefined"}}
[debug] [2021-04-22T15:58:56.910Z] [runtime-status] [7094] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.913Z] [runtime-status] [7094] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.914Z] [runtime-status] [7094] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.915Z] [runtime-status] [7094] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-22T15:58:56.916Z] [runtime-status] [7094] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.994Z] [runtime-status] [7094] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-22T15:58:56.994Z] [runtime-status] [7094] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-22T15:58:56.995Z] [runtime-status] [7094] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.996Z] [runtime-status] [7094] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.996Z] [runtime-status] [7094] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-22T15:58:56.996Z] [runtime-status] [7094] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/kelvincollado/Desktop/Apps/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-22T15:58:57.193Z] [runtime-status] [7094] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-22T15:58:57.194Z] [runtime-status] [7094] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-22T15:58:57.194Z] [runtime-status] [7094] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Running api in mode HTTPS"}}
[debug] [2021-04-22T15:58:57.199Z] [runtime-status] [7094] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7094.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Attempting to listen to socketPath: /var/folders/2x/n52_1qgx4k9bhbsw4cf42g800000gp/T/fire_emu_7094.sock"}}
[debug] [2021-04-22T15:58:57.202Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-22T15:58:57.202Z] [functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2ff04/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-22T15:58:57.214Z] [runtime-status] [7094] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Ephemeral server handling POST request"}}
[info] >  payments request recieved BOOM! for this ammount >>> 2999 {"user":"payments request recieved BOOM! for this ammount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payments request recieved BOOM! for this ammount >>> 2999"}}
[debug] [2021-04-22T15:58:57.232Z] [runtime-status] [7094] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7094] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-22T15:58:57.582Z] [worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d05ba517-6766-4cc4-ba9d-8de039d93127]: IDLE"}}
[debug] [2021-04-22T15:58:57.582Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-22T15:59:48.010Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: exited"}}
[debug] [2021-04-22T15:59:48.011Z] [worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-16b0d6af-be9a-4b27-89a9-048a6841b388]: FINISHED"}}
[debug] [2021-04-22T15:59:48.011Z] [work-queue] {"queueLength":0,"workRunningCount":0}
